"use strict";(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[5312],{7929:(n,r,e)=>{e.r(r),e.d(r,{assets:()=>a,contentTitle:()=>l,default:()=>m,frontMatter:()=>s,metadata:()=>o,toc:()=>d});const o=JSON.parse('{"id":"modules/module-1-ros2/lesson-3-bridging-and-urdf","title":"Lesson 3: Bridging Python Agents to ROS Controllers and Understanding URDF","description":"Bridging Python Agents to ROS Controllers with rclpy","source":"@site/docs/modules/module-1-ros2/lesson-3-bridging-and-urdf.md","sourceDirName":"modules/module-1-ros2","slug":"/modules/module-1-ros2/lesson-3-bridging-and-urdf","permalink":"/AI_Book_Hackathon/docs/modules/module-1-ros2/lesson-3-bridging-and-urdf","draft":false,"unlisted":false,"editUrl":"https://github.com/mussawirsohail/AI_Book_Hackathon/docs/modules/module-1-ros2/lesson-3-bridging-and-urdf.md","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"sidebar_position":3}}');var i=e(4848),t=e(8453);const s={sidebar_position:3},l="Lesson 3: Bridging Python Agents to ROS Controllers and Understanding URDF",a={},d=[{value:"Bridging Python Agents to ROS Controllers with rclpy",id:"bridging-python-agents-to-ros-controllers-with-rclpy",level:2},{value:"AI Agent Example: Basic Navigation Controller",id:"ai-agent-example-basic-navigation-controller",level:3},{value:"Understanding URDF (Unified Robot Description Format)",id:"understanding-urdf-unified-robot-description-format",level:2},{value:"Basic URDF Structure",id:"basic-urdf-structure",level:3},{value:"URDF for Humanoid Robots",id:"urdf-for-humanoid-robots",level:3},{value:"Working with URDF in Python",id:"working-with-urdf-in-python",level:2},{value:"Summary",id:"summary",level:2}];function c(n){const r={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",...(0,t.R)(),...n.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(r.header,{children:(0,i.jsx)(r.h1,{id:"lesson-3-bridging-python-agents-to-ros-controllers-and-understanding-urdf",children:"Lesson 3: Bridging Python Agents to ROS Controllers and Understanding URDF"})}),"\n",(0,i.jsx)(r.h2,{id:"bridging-python-agents-to-ros-controllers-with-rclpy",children:"Bridging Python Agents to ROS Controllers with rclpy"}),"\n",(0,i.jsx)(r.p,{children:"Python agents can interact with ROS controllers by implementing publishers, subscribers, services, and actions. Let's look at how to bridge AI agents with robotic systems."}),"\n",(0,i.jsx)(r.h3,{id:"ai-agent-example-basic-navigation-controller",children:"AI Agent Example: Basic Navigation Controller"}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-python",children:"import rclpy\r\nfrom rclpy.node import Node\r\nfrom geometry_msgs.msg import Twist\r\nfrom sensor_msgs.msg import LaserScan\r\nimport numpy as np\r\n\r\nclass NavigationController(Node):\r\n    def __init__(self):\r\n        super().__init__('navigation_controller')\r\n        \r\n        # Publisher for velocity commands\r\n        self.cmd_vel_pub = self.create_publisher(Twist, '/cmd_vel', 10)\r\n        \r\n        # Subscriber for laser scan data\r\n        self.scan_sub = self.create_subscription(\r\n            LaserScan,\r\n            '/scan',\r\n            self.scan_callback,\r\n            10\r\n        )\r\n        \r\n        # Timer for control loop\r\n        self.timer = self.create_timer(0.1, self.control_loop)\r\n        \r\n        # Robot state\r\n        self.laser_data = None\r\n        self.target_reached = False\r\n\r\n    def scan_callback(self, msg):\r\n        self.laser_data = np.array(msg.ranges)\r\n        \r\n    def control_loop(self):\r\n        if self.laser_data is None:\r\n            return\r\n            \r\n        # Simple AI logic: avoid obstacles and move forward\r\n        min_distance = np.min(self.laser_data)\r\n        \r\n        cmd_vel = Twist()\r\n        \r\n        if min_distance < 1.0:  # Obstacle too close\r\n            cmd_vel.linear.x = 0.0\r\n            cmd_vel.angular.z = 0.5  # Turn\r\n        else:\r\n            cmd_vel.linear.x = 0.5  # Move forward\r\n            cmd_vel.angular.z = 0.0\r\n            \r\n        self.cmd_vel_pub.publish(cmd_vel)\r\n\r\ndef main(args=None):\r\n    rclpy.init(args=args)\r\n    controller = NavigationController()\r\n    rclpy.spin(controller)\r\n    controller.destroy_node()\r\n    rclpy.shutdown()\r\n\r\nif __name__ == '__main__':\r\n    main()\n"})}),"\n",(0,i.jsx)(r.h2,{id:"understanding-urdf-unified-robot-description-format",children:"Understanding URDF (Unified Robot Description Format)"}),"\n",(0,i.jsx)(r.p,{children:"URDF is an XML format for representing a robot model. It defines the physical and visual properties of a robot, including links, joints, and other elements."}),"\n",(0,i.jsx)(r.h3,{id:"basic-urdf-structure",children:"Basic URDF Structure"}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-xml",children:'<?xml version="1.0"?>\r\n<robot name="my_robot">\r\n  \x3c!-- Links define rigid parts of the robot --\x3e\r\n  <link name="base_link">\r\n    <visual>\r\n      <geometry>\r\n        <box size="0.5 0.5 0.2"/>\r\n      </geometry>\r\n      <material name="blue">\r\n        <color rgba="0 0 1 1"/>\r\n      </material>\r\n    </visual>\r\n    <collision>\r\n      <geometry>\r\n        <box size="0.5 0.5 0.2"/>\r\n      </geometry>\r\n    </collision>\r\n  </link>\r\n  \r\n  \x3c!-- Joint connects two links --\x3e\r\n  <joint name="base_to_lidar" type="fixed">\r\n    <parent link="base_link"/>\r\n    <child link="lidar_link"/>\r\n    <origin xyz="0 0 0.15" rpy="0 0 0"/>\r\n  </joint>\r\n  \r\n  <link name="lidar_link">\r\n    <visual>\r\n      <geometry>\r\n        <cylinder radius="0.05" length="0.05"/>\r\n      </geometry>\r\n    </visual>\r\n  </link>\r\n</robot>\n'})}),"\n",(0,i.jsx)(r.h3,{id:"urdf-for-humanoid-robots",children:"URDF for Humanoid Robots"}),"\n",(0,i.jsx)(r.p,{children:"For humanoid robots, URDF becomes more complex with multiple joints and links:"}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-xml",children:'<?xml version="1.0"?>\r\n<robot name="humanoid">\r\n  <material name="black">\r\n    <color rgba="0.0 0.0 0.0 1.0"/>\r\n  </material>\r\n  <material name="red">\r\n    <color rgba="0.8 0.0 0.0 1.0"/>\r\n  </material>\r\n\r\n  \x3c!-- Torso --\x3e\r\n  <link name="torso">\r\n    <visual>\r\n      <geometry>\r\n        <box size="0.3 0.3 0.5"/>\r\n      </geometry>\r\n      <material name="red"/>\r\n    </visual>\r\n  </link>\r\n\r\n  \x3c!-- Head --\x3e\r\n  <joint name="neck_joint" type="revolute">\r\n    <parent link="torso"/>\r\n    <child link="head"/>\r\n    <origin xyz="0 0 0.35" rpy="0 0 0"/>\r\n    <axis xyz="0 1 0"/>\r\n    <limit lower="-1.0" upper="1.0" effort="100" velocity="1"/>\r\n  </joint>\r\n\r\n  <link name="head">\r\n    <visual>\r\n      <geometry>\r\n        <sphere radius="0.1"/>\r\n      </geometry>\r\n      <material name="black"/>\r\n    </visual>\r\n  </link>\r\n\r\n  \x3c!-- Left Arm --\x3e\r\n  <joint name="left_shoulder_joint" type="revolute">\r\n    <parent link="torso"/>\r\n    <child link="left_upper_arm"/>\r\n    <origin xyz="0.2 0 0.1" rpy="0 0 0"/>\r\n    <axis xyz="0 1 0"/>\r\n    <limit lower="-1.57" upper="1.57" effort="100" velocity="1"/>\r\n  </joint>\r\n\r\n  <link name="left_upper_arm">\r\n    <visual>\r\n      <geometry>\r\n        <cylinder length="0.3" radius="0.05"/>\r\n      </geometry>\r\n      <material name="black"/>\r\n    </visual>\r\n  </link>\r\n\r\n  \x3c!-- Add more joints and links for full humanoid model --\x3e\r\n</robot>\n'})}),"\n",(0,i.jsx)(r.h2,{id:"working-with-urdf-in-python",children:"Working with URDF in Python"}),"\n",(0,i.jsxs)(r.p,{children:["You can load and manipulate URDF models in Python using the ",(0,i.jsx)(r.code,{children:"urdf_parser_py"})," library:"]}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-python",children:'from urdf_parser_py.urdf import URDF\r\nimport rospy\r\n\r\n# Load URDF from file\r\nrobot = URDF.from_xml_file(\'path/to/robot.urdf\')\r\n\r\n# Access robot properties\r\nprint(f"Robot name: {robot.name}")\r\nprint(f"Links: {[link.name for link in robot.links]}")\r\nprint(f"Joints: {[joint.name for joint in robot.joints]}")\r\n\r\n# Get transforms between links\r\n# (requires robot state publisher and tf2)\n'})}),"\n",(0,i.jsx)(r.h2,{id:"summary",children:"Summary"}),"\n",(0,i.jsx)(r.p,{children:"In this module, we've covered:"}),"\n",(0,i.jsxs)(r.ol,{children:["\n",(0,i.jsx)(r.li,{children:"The fundamentals of ROS 2"}),"\n",(0,i.jsx)(r.li,{children:"How to create and work with nodes, topics, and services"}),"\n",(0,i.jsx)(r.li,{children:"How to bridge AI agents to ROS controllers"}),"\n",(0,i.jsx)(r.li,{children:"The structure and purpose of URDF files for humanoid robots"}),"\n"]}),"\n",(0,i.jsx)(r.p,{children:"These concepts form the foundational nervous system for robotic applications, enabling communication and coordination between different components of a robotic system."}),"\n",(0,i.jsxs)(r.p,{children:["Continue to ",(0,i.jsx)(r.a,{href:"/AI_Book_Hackathon/docs/modules/module-2-digital-twin/lesson-1-gazebo-simulation",children:"Module 2: The Digital Twin (Gazebo & Unity)"})," to learn about physics simulation and environment building."]})]})}function m(n={}){const{wrapper:r}={...(0,t.R)(),...n.components};return r?(0,i.jsx)(r,{...n,children:(0,i.jsx)(c,{...n})}):c(n)}},8453:(n,r,e)=>{e.d(r,{R:()=>s,x:()=>l});var o=e(6540);const i={},t=o.createContext(i);function s(n){const r=o.useContext(t);return o.useMemo(function(){return"function"==typeof n?n(r):{...r,...n}},[r,n])}function l(n){let r;return r=n.disableParentContext?"function"==typeof n.components?n.components(i):n.components||i:s(n.components),o.createElement(t.Provider,{value:r},n.children)}}}]);