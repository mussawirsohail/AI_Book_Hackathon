"use strict";(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[646],{6781:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>c,contentTitle:()=>i,default:()=>u,frontMatter:()=>s,metadata:()=>t,toc:()=>l});const t=JSON.parse('{"id":"modules/module-5-rag-chatbot/lesson-5-frontend-ui","title":"Lesson 5: Creating the Professional Frontend UI","description":"Introduction","source":"@site/docs/modules/module-5-rag-chatbot/lesson-5-frontend-ui.md","sourceDirName":"modules/module-5-rag-chatbot","slug":"/modules/module-5-rag-chatbot/lesson-5-frontend-ui","permalink":"/AI_Book_Hackathon/docs/modules/module-5-rag-chatbot/lesson-5-frontend-ui","draft":false,"unlisted":false,"editUrl":"https://github.com/mussawirsohail/AI_Book_Hackathon/docs/modules/module-5-rag-chatbot/lesson-5-frontend-ui.md","tags":[],"version":"current","sidebarPosition":5,"frontMatter":{"sidebar_position":5},"sidebar":"tutorialSidebar","previous":{"title":"Lesson 4: Building the RAG Backend with FastAPI","permalink":"/AI_Book_Hackathon/docs/modules/module-5-rag-chatbot/lesson-4-rag-backend"},"next":{"title":"Lesson 6: Integration and Deployment","permalink":"/AI_Book_Hackathon/docs/modules/module-5-rag-chatbot/lesson-6-integration-deployment"}}');var a=r(4848),o=r(8453);const s={sidebar_position:5},i="Lesson 5: Creating the Professional Frontend UI",c={},l=[{value:"Introduction",id:"introduction",level:2},{value:"Setting Up the React Project",id:"setting-up-the-react-project",level:2},{value:"Tailwind CSS Configuration",id:"tailwind-css-configuration",level:2},{value:"Main App Component",id:"main-app-component",level:2},{value:"Authentication Pages and Components",id:"authentication-pages-and-components",level:2},{value:"Chat Interface Component",id:"chat-interface-component",level:2},{value:"Message Bubble Component",id:"message-bubble-component",level:2},{value:"Document Selection Component",id:"document-selection-component",level:2},{value:"User Profile Component",id:"user-profile-component",level:2},{value:"API Service",id:"api-service",level:2},{value:"UI Components",id:"ui-components",level:2},{value:"Responsive Design Considerations",id:"responsive-design-considerations",level:2},{value:"Testing the Frontend",id:"testing-the-frontend",level:2}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",...(0,o.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.header,{children:(0,a.jsx)(n.h1,{id:"lesson-5-creating-the-professional-frontend-ui",children:"Lesson 5: Creating the Professional Frontend UI"})}),"\n",(0,a.jsx)(n.h2,{id:"introduction",children:"Introduction"}),"\n",(0,a.jsx)(n.p,{children:"In this lesson, we'll build a professional, responsive frontend UI for our RAG chatbot using React and a modern CSS framework. The UI will include authentication flows, a chat interface, document selection tools, and user profile management."}),"\n",(0,a.jsx)(n.h2,{id:"setting-up-the-react-project",children:"Setting Up the React Project"}),"\n",(0,a.jsx)(n.p,{children:"First, let's set up our React project with TypeScript and a professional CSS framework:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"# Create React app with TypeScript\r\nnpx create-react-app rag-chatbot-frontend --template typescript\r\n\r\n# Navigate to project directory\r\ncd rag-chatbot-frontend\r\n\r\n# Install required dependencies\r\nnpm install axios react-router-dom @headlessui/react @heroicons/react\r\nnpm install better-auth better-auth-react\r\nnpm install @tanstack/react-query  # For state management\r\nnpm install tailwindcss postcss autoprefixer  # For styling\r\nnpm install @types/node @types/react @types/react-dom  # TypeScript types\n"})}),"\n",(0,a.jsx)(n.h2,{id:"tailwind-css-configuration",children:"Tailwind CSS Configuration"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-javascript",children:"// tailwind.config.js\r\n/** @type {import('tailwindcss').Config} */\r\nmodule.exports = {\r\n  content: [\r\n    \"./src/**/*.{js,jsx,ts,tsx}\",\r\n  ],\r\n  theme: {\r\n    extend: {\r\n      colors: {\r\n        primary: {\r\n          50: '#eff6ff',\r\n          500: '#3b82f6',\r\n          600: '#2563eb',\r\n          700: '#1d4ed8',\r\n        },\r\n        secondary: {\r\n          500: '#8b5cf6',\r\n          600: '#7c3aed',\r\n        }\r\n      }\r\n    },\r\n  },\r\n  plugins: [],\r\n}\n"})}),"\n",(0,a.jsx)(n.h2,{id:"main-app-component",children:"Main App Component"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-tsx",children:"// src/App.tsx\r\nimport React from 'react';\r\nimport { BrowserRouter as Router, Routes, Route } from 'react-router-dom';\r\nimport { QueryClient, QueryClientProvider } from '@tanstack/react-query';\r\nimport { AuthProvider, useAuth } from 'better-auth-react';\r\nimport { auth } from './auth/config';\r\nimport { Home } from './pages/Home';\r\nimport { Chat } from './pages/Chat';\r\nimport { Profile } from './pages/Profile';\r\nimport { Auth } from './pages/Auth';\r\nimport { Navbar } from './components/Navbar';\r\nimport { Footer } from './components/Footer';\r\nimport './App.css';\r\n\r\n// Create a client\r\nconst queryClient = new QueryClient({\r\n  defaultOptions: {\r\n    queries: {\r\n      retry: 1,\r\n      staleTime: 1000 * 60 * 5, // 5 minutes\r\n    },\r\n  },\r\n});\r\n\r\nfunction AppContent() {\r\n  const { isSignedIn } = useAuth();\r\n\r\n  return (\r\n    <div className=\"flex flex-col min-h-screen bg-gray-50\">\r\n      <Navbar />\r\n      <main className=\"flex-grow\">\r\n        <Routes>\r\n          <Route path=\"/\" element={<Home />} />\r\n          <Route \r\n            path=\"/chat\" \r\n            element={isSignedIn ? <Chat /> : <Auth />} \r\n          />\r\n          <Route \r\n            path=\"/profile\" \r\n            element={isSignedIn ? <Profile /> : <Auth />} \r\n          />\r\n          <Route path=\"/auth\" element={<Auth />} />\r\n        </Routes>\r\n      </main>\r\n      <Footer />\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction App() {\r\n  return (\r\n    <QueryClientProvider client={queryClient}>\r\n      <AuthProvider auth={auth}>\r\n        <Router>\r\n          <AppContent />\r\n        </Router>\r\n      </AuthProvider>\r\n    </QueryClientProvider>\r\n  );\r\n}\r\n\r\nexport default App;\n"})}),"\n",(0,a.jsx)(n.h2,{id:"authentication-pages-and-components",children:"Authentication Pages and Components"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-tsx",children:'// src/pages/Auth.tsx\r\nimport React, { useState } from \'react\';\r\nimport { useAuth } from \'better-auth-react\';\r\nimport { Card, CardContent, CardDescription, CardFooter, CardHeader, CardTitle } from \'../components/ui/Card\';\r\nimport { Button } from \'../components/ui/Button\';\r\nimport { Input } from \'../components/ui/Input\';\r\nimport { Label } from \'../components/ui/Label\';\r\nimport { Link } from \'react-router-dom\';\r\n\r\nexport const Auth = () => {\r\n  const [isLogin, setIsLogin] = useState(true);\r\n  const [formData, setFormData] = useState({\r\n    email: \'\',\r\n    password: \'\',\r\n    name: \'\',\r\n    softwareBackground: \'beginner\',\r\n    hardwareBackground: \'beginner\'\r\n  });\r\n  \r\n  const { signIn, signUp } = useAuth();\r\n\r\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement | HTMLSelectElement>) => {\r\n    const { name, value } = e.target;\r\n    setFormData(prev => ({ ...prev, [name]: value }));\r\n  };\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    \r\n    try {\r\n      if (isLogin) {\r\n        await signIn(\'email-password\', {\r\n          email: formData.email,\r\n          password: formData.password\r\n        });\r\n      } else {\r\n        await signUp(\'email-password\', {\r\n          email: formData.email,\r\n          password: formData.password,\r\n          name: formData.name,\r\n          software_background: formData.softwareBackground,\r\n          hardware_background: formData.hardwareBackground\r\n        });\r\n      }\r\n    } catch (error) {\r\n      console.error(\'Authentication error:\', error);\r\n      alert(\'Authentication failed. Please try again.\');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className="min-h-screen flex items-center justify-center bg-gradient-to-br from-primary-50 to-secondary-50 p-4">\r\n      <Card className="w-full max-w-md">\r\n        <CardHeader className="text-center">\r\n          <CardTitle className="text-2xl font-bold">\r\n            {isLogin ? \'Sign In\' : \'Create Account\'}\r\n          </CardTitle>\r\n          <CardDescription>\r\n            {isLogin \r\n              ? \'Sign in to access the RAG chatbot\' \r\n              : \'Create an account to get started with the RAG chatbot\'}\r\n          </CardDescription>\r\n        </CardHeader>\r\n        <form onSubmit={handleSubmit}>\r\n          <CardContent className="space-y-4">\r\n            {!isLogin && (\r\n              <div>\r\n                <Label htmlFor="name">Full Name</Label>\r\n                <Input\r\n                  id="name"\r\n                  name="name"\r\n                  type="text"\r\n                  value={formData.name}\r\n                  onChange={handleChange}\r\n                  required={!isLogin}\r\n                />\r\n              </div>\r\n            )}\r\n            \r\n            <div>\r\n              <Label htmlFor="email">Email</Label>\r\n              <Input\r\n                id="email"\r\n                name="email"\r\n                type="email"\r\n                value={formData.email}\r\n                onChange={handleChange}\r\n                required\r\n              />\r\n            </div>\r\n            \r\n            <div>\r\n              <Label htmlFor="password">Password</Label>\r\n              <Input\r\n                id="password"\r\n                name="password"\r\n                type="password"\r\n                value={formData.password}\r\n                onChange={handleChange}\r\n                required\r\n              />\r\n            </div>\r\n            \r\n            {!isLogin && (\r\n              <>\r\n                <div>\r\n                  <Label htmlFor="softwareBackground">Software Background</Label>\r\n                  <select\r\n                    id="softwareBackground"\r\n                    name="softwareBackground"\r\n                    value={formData.softwareBackground}\r\n                    onChange={handleChange}\r\n                    className="w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500"\r\n                  >\r\n                    <option value="beginner">Beginner</option>\r\n                    <option value="intermediate">Intermediate</option>\r\n                    <option value="advanced">Advanced</option>\r\n                    <option value="expert">Expert</option>\r\n                  </select>\r\n                </div>\r\n                \r\n                <div>\r\n                  <Label htmlFor="hardwareBackground">Hardware Background</Label>\r\n                  <select\r\n                    id="hardwareBackground"\r\n                    name="hardwareBackground"\r\n                    value={formData.hardwareBackground}\r\n                    onChange={handleChange}\r\n                    className="w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500"\r\n                  >\r\n                    <option value="beginner">Beginner</option>\r\n                    <option value="intermediate">Intermediate</option>\r\n                    <option value="advanced">Advanced</option>\r\n                    <option value="expert">Expert</option>\r\n                  </select>\r\n                </div>\r\n              </>\r\n            )}\r\n          </CardContent>\r\n          \r\n          <CardFooter className="flex flex-col">\r\n            <Button type="submit" className="w-full">\r\n              {isLogin ? \'Sign In\' : \'Sign Up\'}\r\n            </Button>\r\n            \r\n            <div className="mt-4 text-center text-sm">\r\n              {isLogin ? "Don\'t have an account?" : "Already have an account?"}\r\n              <button\r\n                type="button"\r\n                className="ml-1 text-primary-600 hover:underline"\r\n                onClick={() => setIsLogin(!isLogin)}\r\n              >\r\n                {isLogin ? \'Sign up\' : \'Sign in\'}\r\n              </button>\r\n            </div>\r\n          </CardFooter>\r\n        </form>\r\n      </Card>\r\n    </div>\r\n  );\r\n};\n'})}),"\n",(0,a.jsx)(n.h2,{id:"chat-interface-component",children:"Chat Interface Component"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-tsx",children:'// src/pages/Chat.tsx\r\nimport React, { useState, useRef, useEffect } from \'react\';\r\nimport { useQuery, useMutation, useQueryClient } from \'@tanstack/react-query\';\r\nimport { useAuth } from \'better-auth-react\';\r\nimport { Button } from \'../components/ui/Button\';\r\nimport { Input } from \'../components/ui/Input\';\r\nimport { Textarea } from \'../components/ui/Textarea\';\r\nimport { Select } from \'../components/ui/Select\';\r\nimport { MessageBubble } from \'../components/MessageBubble\';\r\nimport { DocumentSelector } from \'../components/DocumentSelector\';\r\nimport { ChatHistory } from \'../components/ChatHistory\';\r\nimport { apiClient } from \'../services/api\';\r\n\r\nexport const Chat = () => {\r\n  const [inputMessage, setInputMessage] = useState(\'\');\r\n  const [selectedText, setSelectedText] = useState(\'\');\r\n  const [isProcessing, setIsProcessing] = useState(false);\r\n  const [messages, setMessages] = useState<Array<{\r\n    id: string;\r\n    content: string;\r\n    role: \'user\' | \'assistant\';\r\n    timestamp: Date;\r\n    sources?: Array<{id: string, content: string}>;\r\n  }>>([]);\r\n  \r\n  const messagesEndRef = useRef<HTMLDivElement>(null);\r\n  const textareaRef = useRef<HTMLTextAreaElement>(null);\r\n  const { user } = useAuth();\r\n  const queryClient = useQueryClient();\r\n\r\n  // Fetch chat history\r\n  const { data: chatHistory, isLoading: isLoadingHistory } = useQuery({\r\n    queryKey: [\'chatHistory\', user?.id],\r\n    queryFn: async () => {\r\n      // In a real implementation, fetch chat history from backend\r\n      return [];\r\n    },\r\n    enabled: !!user?.id\r\n  });\r\n\r\n  // Mutation for sending messages\r\n  const sendMessageMutation = useMutation({\r\n    mutationFn: async (message: string) => {\r\n      const response = await apiClient.post(\'/chat\', {\r\n        message,\r\n        selected_text: selectedText\r\n      });\r\n      return response.data;\r\n    },\r\n    onMutate: async (newMessage) => {\r\n      // Optimistically update UI\r\n      const userMessage = {\r\n        id: Date.now().toString(),\r\n        content: newMessage,\r\n        role: \'user\' as const,\r\n        timestamp: new Date()\r\n      };\r\n      \r\n      setMessages(prev => [...prev, userMessage]);\r\n      setInputMessage(\'\');\r\n      setIsProcessing(true);\r\n    },\r\n    onSuccess: (data) => {\r\n      const botMessage = {\r\n        id: `resp_${Date.now()}`,\r\n        content: data.response,\r\n        role: \'assistant\' as const,\r\n        timestamp: new Date(),\r\n        sources: data.sources\r\n      };\r\n      \r\n      setMessages(prev => [...prev, botMessage]);\r\n      setSelectedText(\'\'); // Clear selected text after sending\r\n    },\r\n    onError: (error) => {\r\n      console.error(\'Error sending message:\', error);\r\n      setMessages(prev => [...prev, {\r\n        id: `error_${Date.now()}`,\r\n        content: \'Sorry, I encountered an error processing your request.\',\r\n        role: \'assistant\' as const,\r\n        timestamp: new Date()\r\n      }]);\r\n    },\r\n    onSettled: () => {\r\n      setIsProcessing(false);\r\n    }\r\n  });\r\n\r\n  const handleSubmit = (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    if (inputMessage.trim() && !isProcessing) {\r\n      sendMessageMutation.mutate(inputMessage);\r\n    }\r\n  };\r\n\r\n  // Auto-scroll to bottom when messages change\r\n  useEffect(() => {\r\n    messagesEndRef.current?.scrollIntoView({ behavior: \'smooth\' });\r\n  }, [messages]);\r\n\r\n  // Auto-resize textarea\r\n  useEffect(() => {\r\n    if (textareaRef.current) {\r\n      textareaRef.current.style.height = \'auto\';\r\n      textareaRef.current.style.height = `${Math.min(textareaRef.current.scrollHeight, 200)}px`;\r\n    }\r\n  }, [inputMessage]);\r\n\r\n  return (\r\n    <div className="h-screen flex flex-col bg-white">\r\n      {/* Header */}\r\n      <header className="bg-primary-600 text-white p-4 shadow-md">\r\n        <div className="container mx-auto flex justify-between items-center">\r\n          <h1 className="text-xl font-bold">Book RAG Chatbot</h1>\r\n          <div className="flex items-center space-x-4">\r\n            <span className="text-sm">Welcome, {user?.name || user?.email}</span>\r\n            <DocumentSelector onTextSelect={setSelectedText} />\r\n          </div>\r\n        </div>\r\n      </header>\r\n\r\n      <div className="flex flex-1 overflow-hidden">\r\n        {/* Sidebar for chat history */}\r\n        <div className="w-64 bg-gray-100 border-r border-gray-200 hidden md:block">\r\n          <ChatHistory history={chatHistory || []} isLoading={isLoadingHistory} />\r\n        </div>\r\n\r\n        {/* Main chat area */}\r\n        <div className="flex-1 flex flex-col">\r\n          {/* Messages container */}\r\n          <div className="flex-1 overflow-y-auto p-4 bg-gray-50">\r\n            <div className="max-w-4xl mx-auto">\r\n              {messages.length === 0 ? (\r\n                <div className="text-center py-12">\r\n                  <h2 className="text-2xl font-semibold text-gray-700 mb-4">Welcome to the Book RAG Chatbot</h2>\r\n                  <p className="text-gray-600 mb-6">\r\n                    Ask me questions about the book content, or select text to get answers based on specific passages.\r\n                  </p>\r\n                  \r\n                  {/* Example questions */}\r\n                  <div className="grid grid-cols-1 md:grid-cols-2 gap-3 max-w-2xl mx-auto">\r\n                    {[\r\n                      "What are the key concepts in chapter 1?",\r\n                      "Explain the neural network architecture described in the book",\r\n                      "How does quantum computing relate to AI?",\r\n                      "What are the ethical considerations mentioned?"\r\n                    ].map((question, index) => (\r\n                      <button\r\n                        key={index}\r\n                        onClick={() => setInputMessage(question)}\r\n                        className="bg-white border border-gray-200 rounded-lg p-3 text-left text-sm hover:bg-gray-50 transition-colors"\r\n                      >\r\n                        {question}\r\n                      </button>\r\n                    ))}\r\n                  </div>\r\n                </div>\r\n              ) : (\r\n                messages.map((message) => (\r\n                  <MessageBubble \r\n                    key={message.id} \r\n                    message={message} \r\n                  />\r\n                ))\r\n              )}\r\n              <div ref={messagesEndRef} />\r\n            </div>\r\n          </div>\r\n\r\n          {/* Selected text indicator */}\r\n          {selectedText && (\r\n            <div className="bg-blue-50 border-t border-b border-blue-200 p-3">\r\n              <div className="flex items-start">\r\n                <span className="font-medium text-blue-700 mr-2">Selected Text:</span>\r\n                <p className="text-sm text-gray-700 flex-1 line-clamp-2">{selectedText.substring(0, 200)}{selectedText.length > 200 ? \'...\' : \'\'}</p>\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {/* Input area */}\r\n          <div className="bg-white border-t border-gray-200 p-4">\r\n            <form onSubmit={handleSubmit} className="max-w-4xl mx-auto">\r\n              <div className="flex flex-col space-y-3">\r\n                <Textarea\r\n                  ref={textareaRef}\r\n                  value={inputMessage}\r\n                  onChange={(e) => setInputMessage(e.target.value)}\r\n                  placeholder="Ask a question about the book content..."\r\n                  disabled={isProcessing}\r\n                  className="min-h-[60px] max-h-48 resize-none"\r\n                />\r\n                <div className="flex justify-between items-center">\r\n                  <div className="text-xs text-gray-500">\r\n                    {selectedText ? "Response will be based on selected text" : "Ask anything about the book"}\r\n                  </div>\r\n                  <Button \r\n                    type="submit" \r\n                    disabled={isProcessing || !inputMessage.trim()}\r\n                    className="px-6"\r\n                  >\r\n                    {isProcessing ? (\r\n                      <span className="flex items-center">\r\n                        <span className="animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"></span>\r\n                        Thinking...\r\n                      </span>\r\n                    ) : (\r\n                      \'Send\'\r\n                    )}\r\n                  </Button>\r\n                </div>\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\n'})}),"\n",(0,a.jsx)(n.h2,{id:"message-bubble-component",children:"Message Bubble Component"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-tsx",children:"// src/components/MessageBubble.tsx\r\nimport React from 'react';\r\nimport { format } from 'date-fns';\r\n\r\ninterface Message {\r\n  id: string;\r\n  content: string;\r\n  role: 'user' | 'assistant';\r\n  timestamp: Date;\r\n  sources?: Array<{id: string, content: string}>;\r\n}\r\n\r\ninterface MessageBubbleProps {\r\n  message: Message;\r\n}\r\n\r\nexport const MessageBubble: React.FC<MessageBubbleProps> = ({ message }) => {\r\n  const isUser = message.role === 'user';\r\n  \r\n  return (\r\n    <div className={`flex mb-4 ${isUser ? 'justify-end' : 'justify-start'}`}>\r\n      <div \r\n        className={`max-w-[80%] rounded-2xl px-4 py-3 ${\r\n          isUser \r\n            ? 'bg-primary-600 text-white rounded-tr-none' \r\n            : 'bg-gray-200 text-gray-800 rounded-tl-none'\r\n        }`}\r\n      >\r\n        <div className=\"whitespace-pre-wrap\">{message.content}</div>\r\n        \r\n        {/* Timestamp */}\r\n        <div className={`text-xs mt-1 ${isUser ? 'text-primary-200' : 'text-gray-500'}`}>\r\n          {format(new Date(message.timestamp), 'h:mm a')}\r\n        </div>\r\n        \r\n        {/* Sources for assistant messages */}\r\n        {!isUser && message.sources && message.sources.length > 0 && (\r\n          <div className=\"mt-3 pt-3 border-t border-gray-300 border-opacity-50\">\r\n            <div className=\"text-xs font-medium mb-1\">Sources:</div>\r\n            {message.sources.map((source, index) => (\r\n              <div \r\n                key={source.id || index} \r\n                className=\"text-xs bg-white bg-opacity-20 rounded p-2 mt-1 truncate\"\r\n              >\r\n                {source.content.substring(0, 100)}...\r\n              </div>\r\n            ))}\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\n"})}),"\n",(0,a.jsx)(n.h2,{id:"document-selection-component",children:"Document Selection Component"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-tsx",children:'// src/components/DocumentSelector.tsx\r\nimport React, { useState } from \'react\';\r\nimport { Button } from \'./ui/Button\';\r\nimport { Dialog, DialogContent, DialogHeader, DialogTitle, DialogTrigger } from \'./ui/Dialog\';\r\nimport { Textarea } from \'./ui/Textarea\';\r\n\r\ninterface DocumentSelectorProps {\r\n  onTextSelect: (text: string) => void;\r\n}\r\n\r\nexport const DocumentSelector: React.FC<DocumentSelectorProps> = ({ onTextSelect }) => {\r\n  const [isOpen, setIsOpen] = useState(false);\r\n  const [selectedText, setSelectedText] = useState(\'\');\r\n\r\n  const handleSubmit = () => {\r\n    if (selectedText.trim()) {\r\n      onTextSelect(selectedText);\r\n      setIsOpen(false);\r\n      setSelectedText(\'\');\r\n    }\r\n  };\r\n\r\n  const handlePaste = async () => {\r\n    try {\r\n      const text = await navigator.clipboard.readText();\r\n      setSelectedText(text);\r\n    } catch (err) {\r\n      console.error(\'Failed to read clipboard contents: \', err);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Dialog open={isOpen} onOpenChange={setIsOpen}>\r\n      <DialogTrigger asChild>\r\n        <Button variant="outline" className="text-sm">\r\n          Select Text\r\n        </Button>\r\n      </DialogTrigger>\r\n      <DialogContent className="sm:max-w-md">\r\n        <DialogHeader>\r\n          <DialogTitle>Select Document Text</DialogTitle>\r\n        </DialogHeader>\r\n        <div className="space-y-4 py-4">\r\n          <p className="text-sm text-gray-600">\r\n            Provide text content to restrict the chatbot\'s answers to this specific content only.\r\n          </p>\r\n          <Textarea\r\n            value={selectedText}\r\n            onChange={(e) => setSelectedText(e.target.value)}\r\n            placeholder="Paste or type the text you want the chatbot to answer from..."\r\n            rows={6}\r\n          />\r\n          <div className="flex space-x-2">\r\n            <Button type="button" onClick={handlePaste} variant="outline" size="sm">\r\n              Paste from Clipboard\r\n            </Button>\r\n            <Button \r\n              type="button" \r\n              onClick={handleSubmit} \r\n              disabled={!selectedText.trim()}\r\n              size="sm"\r\n            >\r\n              Use Text\r\n            </Button>\r\n          </div>\r\n        </div>\r\n      </DialogContent>\r\n    </Dialog>\r\n  );\r\n};\n'})}),"\n",(0,a.jsx)(n.h2,{id:"user-profile-component",children:"User Profile Component"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-tsx",children:'// src/pages/Profile.tsx\r\nimport React, { useState, useEffect } from \'react\';\r\nimport { useQuery, useMutation, useQueryClient } from \'@tanstack/react-query\';\r\nimport { useAuth } from \'better-auth-react\';\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \'../components/ui/Card\';\r\nimport { Button } from \'../components/ui/Button\';\r\nimport { Input } from \'../components/ui/Input\';\r\nimport { Select } from \'../components/ui/Select\';\r\nimport { apiClient } from \'../services/api\';\r\n\r\nexport const Profile = () => {\r\n  const { user, updateUser } = useAuth();\r\n  const queryClient = useQueryClient();\r\n  const [formState, setFormState] = useState({\r\n    name: user?.name || \'\',\r\n    email: user?.email || \'\',\r\n    software_background: user?.software_background || \'beginner\',\r\n    hardware_background: user?.hardware_background || \'beginner\'\r\n  });\r\n\r\n  const updateProfileMutation = useMutation({\r\n    mutationFn: async (updatedData: typeof formState) => {\r\n      const response = await apiClient.put(\'/users/profile\', updatedData);\r\n      return response.data;\r\n    },\r\n    onSuccess: (data) => {\r\n      // Update the auth context\r\n      if (user) {\r\n        updateUser({\r\n          ...user,\r\n          ...data\r\n        });\r\n      }\r\n      // Invalidate queries to refresh data\r\n      queryClient.invalidateQueries({ queryKey: [\'user\', user?.id] });\r\n    },\r\n    onError: (error) => {\r\n      console.error(\'Error updating profile:\', error);\r\n      alert(\'Failed to update profile. Please try again.\');\r\n    }\r\n  });\r\n\r\n  useEffect(() => {\r\n    if (user) {\r\n      setFormState({\r\n        name: user.name || \'\',\r\n        email: user.email || \'\',\r\n        software_background: user.software_background || \'beginner\',\r\n        hardware_background: user.hardware_background || \'beginner\'\r\n      });\r\n    }\r\n  }, [user]);\r\n\r\n  const handleSubmit = (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    updateProfileMutation.mutate(formState);\r\n  };\r\n\r\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement | HTMLSelectElement>) => {\r\n    const { name, value } = e.target;\r\n    setFormState(prev => ({ ...prev, [name]: value }));\r\n  };\r\n\r\n  if (!user) {\r\n    return <div>Loading...</div>;\r\n  }\r\n\r\n  return (\r\n    <div className="container mx-auto p-6 max-w-3xl">\r\n      <Card>\r\n        <CardHeader>\r\n          <CardTitle>User Profile</CardTitle>\r\n          <CardDescription>Manage your account and personalization settings</CardDescription>\r\n        </CardHeader>\r\n        <form onSubmit={handleSubmit}>\r\n          <CardContent className="space-y-6">\r\n            <div className="grid grid-cols-1 md:grid-cols-2 gap-4">\r\n              <div>\r\n                <label htmlFor="name" className="block text-sm font-medium text-gray-700 mb-1">\r\n                  Full Name\r\n                </label>\r\n                <Input\r\n                  id="name"\r\n                  name="name"\r\n                  value={formState.name}\r\n                  onChange={handleChange}\r\n                  required\r\n                />\r\n              </div>\r\n              \r\n              <div>\r\n                <label htmlFor="email" className="block text-sm font-medium text-gray-700 mb-1">\r\n                  Email\r\n                </label>\r\n                <Input\r\n                  id="email"\r\n                  name="email"\r\n                  type="email"\r\n                  value={formState.email}\r\n                  onChange={handleChange}\r\n                  disabled\r\n                  className="bg-gray-100"\r\n                />\r\n              </div>\r\n            </div>\r\n            \r\n            <div>\r\n              <label htmlFor="software_background" className="block text-sm font-medium text-gray-700 mb-1">\r\n                Software Background\r\n              </label>\r\n              <Select\r\n                id="software_background"\r\n                name="software_background"\r\n                value={formState.software_background}\r\n                onChange={handleChange}\r\n              >\r\n                <option value="beginner">Beginner</option>\r\n                <option value="intermediate">Intermediate</option>\r\n                <option value="advanced">Advanced</option>\r\n                <option value="expert">Expert</option>\r\n              </Select>\r\n            </div>\r\n            \r\n            <div>\r\n              <label htmlFor="hardware_background" className="block text-sm font-medium text-gray-700 mb-1">\r\n                Hardware Background\r\n              </label>\r\n              <Select\r\n                id="hardware_background"\r\n                name="hardware_background"\r\n                value={formState.hardware_background}\r\n                onChange={handleChange}\r\n              >\r\n                <option value="beginner">Beginner</option>\r\n                <option value="intermediate">Intermediate</option>\r\n                <option value="advanced">Advanced</option>\r\n                <option value="expert">Expert</option>\r\n              </Select>\r\n            </div>\r\n            \r\n            <div className="pt-4">\r\n              <Button \r\n                type="submit" \r\n                disabled={updateProfileMutation.isPending}\r\n                className="w-full md:w-auto"\r\n              >\r\n                {updateProfileMutation.isPending ? \'Updating...\' : \'Update Profile\'}\r\n              </Button>\r\n            </div>\r\n          </CardContent>\r\n        </form>\r\n      </Card>\r\n      \r\n      {/* Personalization Preview */}\r\n      <Card className="mt-6">\r\n        <CardHeader>\r\n          <CardTitle>Personalization Settings</CardTitle>\r\n          <CardDescription>How we use your background to tailor responses</CardDescription>\r\n        </CardHeader>\r\n        <CardContent>\r\n          <div className="bg-blue-50 border border-blue-200 rounded-lg p-4">\r\n            <h3 className="font-medium text-blue-800 mb-2">Your Background:</h3>\r\n            <ul className="list-disc pl-5 space-y-1">\r\n              <li>Software: <span className="capitalize">{formState.software_background}</span></li>\r\n              <li>Hardware: <span className="capitalize">{formState.hardware_background}</span></li>\r\n            </ul>\r\n            <p className="mt-3 text-sm text-gray-700">\r\n              Based on your background, the chatbot will adjust its responses to match your \r\n              experience level, providing more detailed explanations for beginners or \r\n              concise technical information for experts.\r\n            </p>\r\n          </div>\r\n        </CardContent>\r\n      </Card>\r\n    </div>\r\n  );\r\n};\n'})}),"\n",(0,a.jsx)(n.h2,{id:"api-service",children:"API Service"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-tsx",children:"// src/services/api.ts\r\nimport axios from 'axios';\r\n\r\nconst BASE_URL = process.env.REACT_APP_API_URL || 'https://mussawirsoomro5-physical-ai.hf.space/api/v1';\r\n\r\nexport const apiClient = axios.create({\r\n  baseURL: BASE_URL,\r\n  timeout: 30000,\r\n  headers: {\r\n    'Content-Type': 'application/json',\r\n  },\r\n});\r\n\r\n// Request interceptor to add auth token\r\napiClient.interceptors.request.use(\r\n  (config) => {\r\n    const token = localStorage.getItem('auth_token');\r\n    if (token) {\r\n      config.headers.Authorization = `Bearer ${token}`;\r\n    }\r\n    return config;\r\n  },\r\n  (error) => {\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\n// Response interceptor to handle auth errors\r\napiClient.interceptors.response.use(\r\n  (response) => {\r\n    return response;\r\n  },\r\n  (error) => {\r\n    if (error.response?.status === 401) {\r\n      // Clear auth token and redirect to login\r\n      localStorage.removeItem('auth_token');\r\n      window.location.href = '/auth';\r\n    }\r\n    return Promise.reject(error);\r\n  }\r\n);\n"})}),"\n",(0,a.jsx)(n.h2,{id:"ui-components",children:"UI Components"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-tsx",children:"// src/components/ui/Button.tsx\r\nimport React from 'react';\r\n\r\ninterface ButtonProps extends React.ButtonHTMLAttributes<HTMLButtonElement> {\r\n  variant?: 'default' | 'outline' | 'ghost' | 'link';\r\n  size?: 'sm' | 'md' | 'lg';\r\n}\r\n\r\nexport const Button: React.FC<ButtonProps> = ({ \r\n  children, \r\n  variant = 'default', \r\n  size = 'md', \r\n  className = '', \r\n  ...props \r\n}) => {\r\n  const baseClasses = \"inline-flex items-center justify-center rounded-md font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50\";\r\n  \r\n  const variantClasses = {\r\n    default: \"bg-primary-600 text-white hover:bg-primary-700\",\r\n    outline: \"border border-input bg-transparent hover:bg-accent hover:text-accent-foreground\",\r\n    ghost: \"hover:bg-accent hover:text-accent-foreground\",\r\n    link: \"text-primary-600 underline-offset-4 hover:underline\"\r\n  };\r\n  \r\n  const sizeClasses = {\r\n    sm: \"h-9 px-3 text-sm\",\r\n    md: \"h-10 px-4 py-2\",\r\n    lg: \"h-11 px-8 text-lg\"\r\n  };\r\n  \r\n  const classes = `${baseClasses} ${variantClasses[variant]} ${sizeClasses[size]} ${className}`;\r\n  \r\n  return (\r\n    <button className={classes} {...props}>\r\n      {children}\r\n    </button>\r\n  );\r\n};\n"})}),"\n",(0,a.jsx)(n.h2,{id:"responsive-design-considerations",children:"Responsive Design Considerations"}),"\n",(0,a.jsx)(n.p,{children:"To ensure our UI works well on all devices, let's implement responsive design patterns:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-css",children:"/* src/App.css */\r\n@tailwind base;\r\n@tailwind components;\r\n@tailwind utilities;\r\n\r\n/* Custom scrollbar styling */\r\n::-webkit-scrollbar {\r\n  width: 8px;\r\n}\r\n\r\n::-webkit-scrollbar-track {\r\n  background: #f1f1f1;\r\n}\r\n\r\n::-webkit-scrollbar-thumb {\r\n  background: #c5c5c5;\r\n  border-radius: 4px;\r\n}\r\n\r\n::-webkit-scrollbar-thumb:hover {\r\n  background: #a8a8a8;\r\n}\r\n\r\n/* Responsive adjustments */\r\n@media (max-width: 768px) {\r\n  .chat-container {\r\n    flex-direction: column;\r\n  }\r\n  \r\n  .sidebar {\r\n    width: 100%;\r\n    border-right: none;\r\n    border-bottom: 1px solid #e5e7eb;\r\n  }\r\n}\r\n\r\n/* Animation for loading states */\r\n@keyframes pulse {\r\n  0%, 100% {\r\n    opacity: 1;\r\n  }\r\n  50% {\r\n    opacity: 0.5;\r\n  }\r\n}\r\n\r\n.loading {\r\n  animation: pulse 1.5s ease-in-out infinite;\r\n}\r\n\r\n/* Truncate long text with ellipsis */\r\n.line-clamp-2 {\r\n  display: -webkit-box;\r\n  -webkit-line-clamp: 2;\r\n  -webkit-box-orient: vertical;\r\n  overflow: hidden;\r\n}\n"})}),"\n",(0,a.jsx)(n.h2,{id:"testing-the-frontend",children:"Testing the Frontend"}),"\n",(0,a.jsx)(n.p,{children:"Let's create a test for our chat component:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-tsx",children:"// src/__tests__/Chat.test.tsx\r\nimport React from 'react';\r\nimport { render, screen, fireEvent, waitFor } from '@testing-library/react';\r\nimport '@testing-library/jest-dom';\r\nimport { QueryClient, QueryClientProvider } from '@tanstack/react-query';\r\nimport { AuthProvider } from 'better-auth-react';\r\nimport { Chat } from '../pages/Chat';\r\n\r\n// Mock auth context\r\nconst mockAuthContext = {\r\n  user: { id: '1', email: 'test@example.com', name: 'Test User' },\r\n  isSignedIn: true,\r\n  signOut: jest.fn(),\r\n  signIn: jest.fn(),\r\n  signUp: jest.fn(),\r\n  updateUser: jest.fn()\r\n};\r\n\r\n// Mock auth provider\r\njest.mock('better-auth-react', () => ({\r\n  useAuth: () => mockAuthContext,\r\n  AuthProvider: ({ children }: { children: React.ReactNode }) => <>{children}</>,\r\n}));\r\n\r\nconst queryClient = new QueryClient({\r\n  defaultOptions: {\r\n    queries: {\r\n      retry: false,\r\n    },\r\n  },\r\n});\r\n\r\nconst renderWithProviders = (component: React.ReactNode) => {\r\n  return render(\r\n    <QueryClientProvider client={queryClient}>\r\n      <AuthProvider>\r\n        {component}\r\n      </AuthProvider>\r\n    </QueryClientProvider>\r\n  );\r\n};\r\n\r\ndescribe('Chat Component', () => {\r\n  test('renders chat interface', () => {\r\n    renderWithProviders(<Chat />);\r\n    \r\n    // Check that essential elements are present\r\n    expect(screen.getByText('Book RAG Chatbot')).toBeInTheDocument();\r\n    expect(screen.getByPlaceholderText('Ask a question about the book content...')).toBeInTheDocument();\r\n    expect(screen.getByRole('button', { name: /send/i })).toBeInTheDocument();\r\n  });\r\n\r\n  test('allows user to type and submit messages', async () => {\r\n    renderWithProviders(<Chat />);\r\n    \r\n    const input = screen.getByPlaceholderText('Ask a question about the book content...');\r\n    const submitButton = screen.getByRole('button', { name: /send/i });\r\n    \r\n    fireEvent.change(input, { target: { value: 'Hello, world!' } });\r\n    fireEvent.click(submitButton);\r\n    \r\n    // Wait for the message to appear in the UI\r\n    await waitFor(() => {\r\n      expect(screen.getByText('Hello, world!')).toBeInTheDocument();\r\n    });\r\n  });\r\n});\n"})}),"\n",(0,a.jsxs)(n.p,{children:["Continue to ",(0,a.jsx)(n.a,{href:"/AI_Book_Hackathon/docs/modules/module-5-rag-chatbot/lesson-6-integration-deployment",children:"Lesson 6: Integration and Deployment"})," to learn how to integrate all components and deploy the RAG chatbot system."]})]})}function u(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(d,{...e})}):d(e)}},8453:(e,n,r)=>{r.d(n,{R:()=>s,x:()=>i});var t=r(6540);const a={},o=t.createContext(a);function s(e){const n=t.useContext(o);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:s(e.components),t.createElement(o.Provider,{value:n},e.children)}}}]);